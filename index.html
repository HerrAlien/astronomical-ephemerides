<html lang="en-US">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Astronomical Ephemeris</title>
	<link rel="stylesheet" type="text/css" href="style/default.css"  />

</head>

<body>
    <a href="#HomePage" id="HomeLinkButton"><img src="images/home-3.svg"></a>
    <a href="#menuContainer" id="MenuLink"><img src="images/menu.svg"></a>
    <a href="#settingsPage" id="SettingsLink"><img src="images/settings.svg"></a>
    <div class="clear maxWidth">&nbsp;</div>
    <div id="menuContainer" class="page" title="Menu">
        <span class="title">Menu</span><br>
        <ul id="menu">
            <li><a href="#HomePage" id="HomeLink">Home</a></li>
            <li><a href="#SunPage">Sun</a></li>
            <li><a href="#MoonPage">Moon</a></li>
            <li><a href="#MercuryPage">Mercury</a></li>
            <li><a href="#VenusPage">Venus</a></li>
            <li><a href="#MarsPage">Mars</a></li>
            <li><a href="#JupiterPage">Jupiter</a></li>
            <li><a href="#SaturnPage">Saturn</a></li>
            <li><a href="#UranusPage">Uranus</a></li>
            <li><a href="#NeptunePage">Neptune</a></li>
            <li><a href="#GalileanMoonsPage">Galilean Moons</a></li>
        </ul>
		<div class="clear">&nbsp;</div>
    </div>
    <div id="settingsPage" class="page" title="Settings">
        <span class="title">Settings</span><br>
        <label>Latitude [&deg;]: <br><input type="number" id="latitudeInput" placeholder="[degrees]" ></input></label>
        <label>Longitude [&deg;]: <br><input type="number" id="longitudeInput" placeholder="[degrees]" ></input></label>
        <label>Altitude [m]: <br><input type="number" id="altitudeInput" placeholder="[meters]" ></input></label> <a nohref="#" id="getFromGeolocationAnchor">or use geolocation</a>
        <div class="clear">&nbsp;</div>
        <Label>Start from: <br><input type="date" id="startingDate"></input></label>
        <Label>increment in days: <br><input type="number" id="incrementDate"></input></label>
        <Label>for number of days:<br><input type="number" id="numberOfDays"></input></label>
        <div class="clear">&nbsp;</div>
        <input type="button" id = "applySettingsChanges" value="Apply"></input>
        <input type="button" id = "cancelSettingsChanges" value="Cancel"></input>
        <div class="clear">&nbsp;</div>
    </div>
    
    <div id="HomePage" class="page" title="Astronomical Ephemeris">
    <span class="title">Astronomical Ephemeris</span><br>
        Astronomical Ephemeris - a JavaScript utility to calculate various solar system data.<br>
    <br>
    The following rules stand for the data computed by the application:
    <ul>
        <li>Unless specified otherwise, all times (transits, eclipses, occultations etc.) are in UTC.</li>
        <li>Transits are computed for any given day as the first transit to occur after the given date. This means that they might occur in the following day.</li>
    </ul>
        <div id="credits">
        Copyright (C) 2017  Herr_Alien &lt;alexandru.garofide@gmail.com&gt;<br>
    <br>
        This program is free software: you can redistribute it and/or modify
        it under the terms of the GNU Affero General Public License as published by
        the Free Software Foundation, either version 3 of the License, or
        (at your option) any later version.<br>
    <br>
        This program is distributed in the hope that it will be useful,
        but WITHOUT ANY WARRANTY; without even the implied warranty of
        MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
        GNU Affero General Public License for more details.<br>
    <br>
        You should have received a copy of the GNU Affero General Public License
        along with this program.  If not, see &lt;<a href="https://www.gnu.org/licenses/agpl.html">https://www.gnu.org/licenses/agpl.html</a>&gt;.
        </div>
    </div>
    
    <div id="SunPage" class="page invisible" title="Sun">
        <span class="title">Sun</span>
        <table id="Sun" cellspacing="0" cellpadding="0" >
        <tr><td class="loadingMemFileContents"><img src="images/loading.gif"><br>Downloading initialization data ...</td></tr>
         </table>
    </div>
    <div id="MercuryPage" class="page" title="Mercury">
        <span class="title">Mercury</span><br>
        <table id="Mercury" cellspacing="0" cellpadding="0" class="planetTable">
        <tr><td class="loadingMemFileContents"><img src="images/loading.gif"><br>Downloading initialization data ...</td></tr>
        </table>
    </div>

    <div id="VenusPage" class="page" title="Venus">
        <span class="title">Venus</span>
        <table id="Venus" cellspacing="0" cellpadding="0" class="planetTable">
        <tr><td class="loadingMemFileContents"><img src="images/loading.gif"><br>Downloading initialization data ...</td></tr>
        </table>
    </div>

    <div id="MarsPage" class="page" title="Mars">
        <span class="title">Mars</span>
        <table id="Mars" cellspacing="0" cellpadding="0" class="planetTable">
        <tr><td class="loadingMemFileContents"><img src="images/loading.gif"><br>Downloading initialization data ...</td></tr>
       </table>
    </div>

    <div id="JupiterPage" class="page" title="Jupiter">
        <span class="title">Jupiter</span>
        <table id="Jupiter" cellspacing="0" cellpadding="0" class="planetTable">
        <tr><td class="loadingMemFileContents"><img src="images/loading.gif"><br>Downloading initialization data ...</td></tr>
         </table>
    </div>

    <div id="SaturnPage" class="page" title="Saturn">
        <span class="title">Saturn</span>
        <table id="Saturn" cellspacing="0" cellpadding="0" class="planetTable">
        <tr><td class="loadingMemFileContents"><img src="images/loading.gif"><br>Downloading initialization data ...</td></tr>
         </table>
    </div>

   <div id="UranusPage" class="page" title="Uranus">
        <span class="title">Uranus</span>
        <table id="Uranus" cellspacing="0" cellpadding="0" class="planetTable">
        <tr><td class="loadingMemFileContents"><img src="images/loading.gif"><br>Downloading initialization data ...</td></tr>
         </table>
    </div>

   <div id="NeptunePage" class="page" title="Neptune">
        <span class="title">Neptune</span>
        <table id="Neptune" cellspacing="0" cellpadding="0" class="planetTable">
        <tr><td class="loadingMemFileContents"><img src="images/loading.gif"><br>Downloading initialization data ...</td></tr>
         </table>
    </div>

   <div id="MoonPage" class="page" title="Moon">
        <span class="title">Moon</span>
        <table id="Moon" cellspacing="0" cellpadding="0">
        <tr><td class="loadingMemFileContents"><img src="images/loading.gif"><br>Downloading initialization data ...</td></tr>
         </table>
    </div>

   <div id="GalileanMoonsPage" class="page" title="Visibility of Galilean Moons">
        <span class="title">Visibility of Galilean Moons</span>
        <div id="GalileanMoons" cellspacing="0" cellpadding="0">
            <div class="loadingMemFileContents"><img src="images/loading.gif"><br>Downloading initialization data ...</div>
         </div>
    </div>

	</body>

</html>
<script type="text/JavaScript" src="js/notifications.js"></script>
<script type="text/JavaScript" src="js/location.js"></script>
<script type="text/JavaScript" src="js/timeinput.js"></script>

<script type="text/JavaScript" >
    
    var PageTimeInterval = {};
    var Pages = {};

    var previousPage = false;
    var currentActiveLink = false;
    
    window.addEventListener("hashchange", function(){
        var hash = location.hash;
        var pageName = hash.slice(1);
        previousPage = document.getElementById(pageName); 

        if (Pages[pageName] && PageTimeInterval.JD){
            Pages[pageName].displayPage(PageTimeInterval.JD, PageTimeInterval.days, PageTimeInterval.stepSize);
        }
    }, false);

    document.getElementById ("applySettingsChanges").addEventListener("click", function() {
        Location.Controls.commitUserValues();
        TimeStepsData.Controls.commitUserValues();
        // copy from timesteps data
        if (typeof AAJS != 'undefined')
            PageTimeInterval = { "JD" :  AAJS.Date.DateToJD (TimeStepsData.yearToStart, TimeStepsData.monthToStart, TimeStepsData.dayToStart, true), "days" : TimeStepsData.numberOfDays, "stepSize" : TimeStepsData.timestep };
            
        for (pageKey in Pages){
            if (Pages[pageKey]) {
                Pages[pageKey].reset();
            }
        }
        if (previousPage) {
            document.getElementById(previousPage.id).dispatchEvent(new MouseEvent("click",  { "view": window, 
                                                      "bubbles": true, 
                                                      "cancelable": false })); 
        }

    });
    
    document.getElementById ("cancelSettingsChanges").addEventListener("click", function() {
        Location.Controls.update();
        TimeStepsData.Controls.update();

        if (previousPage) {
            document.getElementById(previousPage.id).dispatchEvent(new MouseEvent("click",  { "view": window, 
                                                      "bubbles": true, 
                                                      "cancelable": false })); 
        }
    });

    Location.init();
    TimeStepsData.init();
    PageTimeInterval = { "JD" :  2457754.5, "days" : 410, "stepSize" : 1 };
    
    document.getElementById("HomeLink").dispatchEvent(new MouseEvent("click",  { "view": window, 
                                                      "bubbles": true, 
                                                      "cancelable": false }));                                                       
    
    window.addEventListener("scroll", function() {
        if (previousPage) {
            var pageObj = Pages [previousPage.id];
            if (pageObj && pageObj.table) {
                if (document.body.scrollTop >= 40) {
                    // get the first two rows
                    pageObj.table.rows[0].classList.remove ("firstHeaderRow");
                    pageObj.table.rows[0].classList.add ("firstHeaderRowScrolled");

                    pageObj.table.rows[1].classList.remove ("secondHeaderRow");
                    pageObj.table.rows[1].classList.add ("secondHeaderRowScrolled");
                } else {
                    pageObj.table.rows[0].classList.add ("firstHeaderRow");
                    pageObj.table.rows[0].classList.remove ("firstHeaderRowScrolled");

                    pageObj.table.rows[1].classList.add ("secondHeaderRow");
                    pageObj.table.rows[1].classList.remove ("secondHeaderRowScrolled");
                }
            }
        }
    });

    
</script>

<script type="text/JavaScript" src="js/aajs.js"></script>
<script type="text/JavaScript" src="js/sun.js"></script>

<script type="text/JavaScript" src="js/planetdata.js"></script>
<script type="text/JavaScript" src="js/planetpage.js"></script>

<script type="text/JavaScript" src="js/mercury.js"></script>
<script type="text/JavaScript" src="js/venus.js"></script>
<script type="text/JavaScript" src="js/mars.js"></script>
<script type="text/JavaScript" src="js/jupiter.js"></script>
<script type="text/JavaScript" src="js/saturn.js"></script>
<script type="text/JavaScript" src="js/uranus.js"></script>
<script type="text/JavaScript" src="js/neptune.js"></script>

<script type="text/JavaScript" src="js/moon.js"></script>
<script type="text/JavaScript" src="js/galileanmoonsdata.js"></script>
