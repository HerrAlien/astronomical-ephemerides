<html lang="en-US">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Astronomical Ephemerides</title>
	<link rel="stylesheet" type="text/css" href="style/default.css"  />
    <link rel="icon" type="image/png" href="images/ae-icon.png">
    
    <script type="text/javascript">
        (function(){
            var URL = document.URL;
            if (URL.slice(-11) == "ephemerides")
                location.href = URL + "/";
        })();
    </script>

    <style id="positionalStyle">

@media (max-width: 810px) {

    body {
        min-width: 590px;
    }

    #JupiterPage, #MarsPage  {
        width: 500px;
    }

    #JupiterPage .physicalEphemeris, #JupiterPage .physicalEphemerisTitle,
    #MarsPage .physicalEphemeris, #MarsPage .physicalEphemerisTitle
    {
        display: none;
    }

    #Jupiter tr.firstHeaderRow, #Jupiter tr.firstHeaderRowScrolled,
    #Jupiter tr.secondHeaderRow, #Jupiter tr.secondHeaderRowScrolled,
    #Mars tr.firstHeaderRow,  #Mars tr.firstHeaderRowScrolled,
    #Mars tr.secondHeaderRow, #Mars tr.secondHeaderRowScrolled
    {
        width: 485px;
    }

    #Jupiter tr td:nth-child(15), #Mars tr td:nth-child(15)
    {
        border-right: none;
    }
    
    .swipeRight {
        display: none;
    }
    
    .swipeLeft {
        display: block;
        position: fixed;
        height: 100%;
        width: 32px;
        right: 15px;
        cursor: pointer;
        border-top: solid 1px black;
        border-bottom: solid 1px black;
        border-left: solid 1px black;
        background-image: url("images/left.png");
        background-repeat: repeat-y;
        z-index: 2;
    }
    
    .positionEphemerisTitle {
        display: inline;
    }

}
    </style>    

<style id="physicalStyle">

@media (max-width: 810px) {

    #JupiterPage .positionEphemeris, #JupiterPage .positionEphemerisTitle,
    #MarsPage .positionEphemeris, #MarsPage .positionEphemerisTitle
    {
        display: none;
    }

    #Jupiter tr.firstHeaderRow, #Jupiter tr.firstHeaderRowScrolled,
    #Jupiter tr.secondHeaderRow, #Jupiter tr.secondHeaderRowScrolled
    {
        width: 350px;
    }

    .swipeRight {
        display: block;
        position: fixed;
        height: 100%;
        width: 32px;
        left: 0px;
        cursor: pointer;
        z-index: 2;

        border-top: solid 1px black;
        border-bottom: solid 1px black;
        border-right: solid 1px black;
        background-image: url("images/right.png");
        background-repeat: repeat-y;
    }
    
    .swipeLeft {
        display: none;
    }
    
    .physicalEphemerisTitle {
        display: inline;
    }
    
    #JupiterPage, #MarsPage {
        width: 500px;
    }
    

    #Mars tr.firstHeaderRow,  #Mars tr.firstHeaderRowScrolled,
    #Mars tr.secondHeaderRow, #Mars tr.secondHeaderRowScrolled
    {
        width: 290px;
    }

    body {
        min-width: 590px;
    }
    
    }
    
</style>   
    
</head>

<body>
    <a href="#HomePage"><div id="HomeLinkButton" class="topmenulink"><img src="images/home-3.svg"></div></a>
    <a href="#settings"><div id="SettingsLink" class="topmenulink"><img src="images/settings.svg"></div></a>
    <a href="zip/ephemerides.7z"><div id="DownloadLink" class="topmenulink"><img src="images/download.svg"></div></a>
    <a href="#more" id="MenuLink"><div id="MenuLinkDiv" class="topmenulink"><img src="images/menu.svg"></div></a>
    <div id="promotedMenu">
        <span class="leastImportant">
        </span>
            <a href="#SunPage">Sun</a>
            <a href="#MoonPage">Moon</a>
            <a href="#MoonEclipsesPage">Moon Eclipses</a>
        <span class="lessImportant">
            <a href="#MercuryPage">Mercury</a>
            <a href="#VenusPage">Venus</a>
            <a href="#MarsPage">Mars</a>
        </span>
            <a href="#JupiterPage">Jupiter</a>
        <span class="leastImportant">
            <a href="#GalileanMoonsPage">Galilean Moons</a>
        </span>
            <a href="#SaturnPage">Saturn</a>
        <span class="leastImportant">
            <a href="#SaturnMoonsPage">Saturn Moons</a>
            <a href="#UranusPage">Uranus</a>
            <a href="#NeptunePage">Neptune</a>
        </span>
    </div>
    
    <div class="clear maxWidth">&nbsp;</div>
    <div id="scroller">
    <div id="more" class="page" title="Menu">
        <span class="title">Menu</span><br/>
        <ul id="menuList">
            <li><a href="#HomePage" id="HomeLink">Home</a></li>
            <li><a href="#SunPage">Sun</a></li>
            <li><a href="#MoonPage">Moon</a></li>
            <li><a href="#MercuryPage">Mercury</a></li>
            <li><a href="#VenusPage">Venus</a></li>
            <li><a href="#MarsPage">Mars</a></li>
            <li><a href="#JupiterPage">Jupiter</a></li>
            <li><a href="#SaturnPage">Saturn</a></li>
            <li><a href="#UranusPage">Uranus</a></li>
            <li><a href="#NeptunePage">Neptune</a></li>
            <li><a href="#GalileanMoonsPage">Galilean Moons</a></li>
            <li><a href="#SaturnMoonsPage">Saturn Moons</a></li>
            <li><a href="#MoonEclipsesPage">Moon Eclipses</a></li>
        </ul>
		<div class="clear">&nbsp;</div>
    </div>
    <div id="settings" class="page" title="Settings">
        <span class="title">Settings</span><br/>
        <label>Latitude [&deg;]: <br/><input type="number" id="latitudeInput" placeholder="[degrees]" ></input></label>
        <label>Longitude [&deg;]: <br/><input type="number" id="longitudeInput" placeholder="[degrees]" ></input></label>
        <label>Altitude [m]: <br/><input type="number" id="altitudeInput" placeholder="[meters]" ></input></label> <a nohref="#" id="getFromGeolocationAnchor">or use geolocation</a>
        <div class="clear">&nbsp;</div>
        <Label>Start from: <br/><input type="date" id="startingDate"></input></label>
        <Label>increment in days: <br/><input type="number" id="incrementDate"></input></label>
        <Label>for number of days:<br/><input type="number" id="numberOfDays"></input></label>
        <div class="clear">&nbsp;</div>
        <input type="button" id = "applySettingsChanges" value="Apply"></input>
        <input type="button" id = "cancelSettingsChanges" value="Cancel"></input>
        <div class="clear">&nbsp;</div>
    </div>
    
    <div id="JSDisabledPage" title="Enable JavaScript">
        <span class="title">Enable JavaScript</span>
        <br/>
        The page uses JavaScript to do all the computations. Please enable JavaScript from your browser's settings.
        
    </div>

    
    <div id="HomePage" class="page" title="Astronomical ephemerides">
    <span class="title">Astronomical Ephemerides</span><br/><br/>
        Astronomical Ephemerides - a JavaScript utility to calculate various solar system data. It uses an <a href="https://bitbucket.org/herr_alien/jsaaplus" target="_blank">Emscripten port</a> of the <a href="http://www.naughter.com/aa.html" target="_blank">AA+ library</a>. More about Emscripten <a href="http://kripken.github.io/emscripten-site/" target="_blank">here</a>.<br/>
    <br/>
    The following rules stand for the data computed by the application:
    <ul>
        <li>Unless specified otherwise, all times (transits, eclipses, occultations etc.) are in UTC.</li>
        <li>Transits are computed for any given day as the first transit to occur after the given date. This means that they might occur in the following day.</li>
    </ul>
        <div id="credits">
        Copyright (C) 2017  Herr_Alien &lt;alexandru.garofide@gmail.com&gt;<br/>
    <br/>
        This program is free software: you can redistribute it and/or modify
        it under the terms of the GNU Affero General Public License as published by
        the Free Software Foundation, either version 3 of the License, or
        (at your option) any later version.<br/>
    <br/>
        This program is distributed in the hope that it will be useful,
        but WITHOUT ANY WARRANTY; without even the implied warranty of
        MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
        GNU Affero General Public License for more details.<br/>
    <br/>
        You should have received a copy of the GNU Affero General Public License
        along with this program.  If not, see &lt;<a href="https://www.gnu.org/licenses/agpl.html">https://www.gnu.org/licenses/agpl.html</a>&gt;.
        </div>
    </div>
    
    <div id="SunPage" class="page invisible" title="Sun">
        <span class="title">Sun</span>
        <table id="Sun" cellspacing="0" cellpadding="0" class="planetTable">
        <tr><td class="loadingMemFileContents"><img src="images/loading.gif"><br/>Downloading initialization data ...</td></tr>
         </table>
    </div>
    <div id="MercuryPage" class="page" title="Mercury">
        <span class="title">Mercury</span><br/>
        <table id="Mercury" cellspacing="0" cellpadding="0" class="planetTable">
        <tr><td class="loadingMemFileContents"><img src="images/loading.gif"><br/>Downloading initialization data ...</td></tr>
        </table>
    </div>

    <div id="VenusPage" class="page" title="Venus">
        <span class="title">Venus</span>
        <table id="Venus" cellspacing="0" cellpadding="0" class="planetTable">
        <tr><td class="loadingMemFileContents"><img src="images/loading.gif"><br/>Downloading initialization data ...</td></tr>
        </table>
    </div>

    <div id="MarsPage" class="page" title="Mars">
        <div class="swipeRight"></div> <div class="swipeLeft"></div>
        <span class="title">Mars</span><span class="title positionEphemerisTitle"> position ephemeris</span>  <span class="title physicalEphemerisTitle"> physical ephemeris</span>
        <table id="Mars" cellspacing="0" cellpadding="0" class="planetTable">
        <tr><td class="loadingMemFileContents"><img src="images/loading.gif"><br/>Downloading initialization data ...</td></tr>
       </table>
    </div>

    <div id="JupiterPage" class="page" title="Jupiter">
        <div class="swipeRight"></div> <div class="swipeLeft"></div>
        <span class="title">Jupiter</span><span class="title positionEphemerisTitle"> position ephemeris</span>  <span class="title physicalEphemerisTitle"> physical ephemeris</span>
        <table id="Jupiter" cellspacing="0" cellpadding="0" class="planetTable">
        <tr><td class="loadingMemFileContents"><img src="images/loading.gif"><br/>Downloading initialization data ...</td></tr>
         </table>
    </div>

    <div id="SaturnPage" class="page" title="Saturn">
        <span class="title">Saturn</span>
        <table id="Saturn" cellspacing="0" cellpadding="0" class="planetTable">
        <tr><td class="loadingMemFileContents"><img src="images/loading.gif"><br/>Downloading initialization data ...</td></tr>
         </table>
    </div>

   <div id="UranusPage" class="page" title="Uranus">
        <span class="title">Uranus</span>
        <table id="Uranus" cellspacing="0" cellpadding="0" class="planetTable">
        <tr><td class="loadingMemFileContents"><img src="images/loading.gif"><br/>Downloading initialization data ...</td></tr>
         </table>
    </div>

   <div id="NeptunePage" class="page" title="Neptune">
        <span class="title">Neptune</span>
        <table id="Neptune" cellspacing="0" cellpadding="0" class="planetTable">
        <tr><td class="loadingMemFileContents"><img src="images/loading.gif"><br/>Downloading initialization data ...</td></tr>
         </table>
    </div>

   <div id="MoonPage" class="page" title="Moon">
        <span class="title">Moon</span>
        <table id="Moon" cellspacing="0" cellpadding="0"  class="planetTable">
        <tr><td class="loadingMemFileContents"><img src="images/loading.gif"><br/>Downloading initialization data ...</td></tr>
         </table>
    </div>

   <div id="GalileanMoonsPage" class="page" title="Visibility of Galilean Moons">
        <span class="title">Elongations of Galilean Moons</span>
        <br/>The following colors were used to represent each moon:
        <ul>
            <li>Io is represented in <font color="blue"><b>blue color</b></font></li>
            <li>Europa is represented in <font color="red"><b>red color</b></font></li>
            <li>Ganymede is represented in <font color="green"><b>green color</b></font></li>
            <li>Callisto is represented in <font color="black"><b>black color</b></font></li>
        </ul>
        Jupiter is represented in <font color="orange"><b>orange color</b></font>
        <br/>
        <br/>
        <div id="GalileanMoons">
            <div class="loadingMemFileContents"><img src="images/loading.gif"><br/>Downloading initialization data ...</div>
         </div>
    </div>

   <div id="SaturnMoonsPage" class="page" title="Visibility of Saturn Moons">
        <span class="title">Elongations of Saturn's Moons</span>
        <br/>The following colors were used to represent each moon:
        <ul>
            <li>Mimas is represented in <font color="blue"><b>blue color</b></font></li>
            <li>Enceladus is represented in <font color="red"><b>red color</b></font></li>
            <li>Tethys is represented in <font color="green"><b>green color</b></font></li>
            <li>Dione is represented in <font color="black"><b>black color</b></font></li>
            <li>Rhea is represented in <font color="magenta"><b>magenta color</b></font></li>
            <li>Titan is represented in <font color="grey"><b>grey color</b></font></li>
        </ul>
        Saturn is represented in <font color="orange"><b>orange color</b></font>
        <br/>
        <br/>
        <div id="SaturnMoons">
            <div class="loadingMemFileContents"><img src="images/loading.gif"><br/>Downloading initialization data ...</div>
         </div>
    </div>
    
   <div id="MoonEclipsesPage" class="page" title="Moon Eclipses">
        <span class="title">Moon Eclipses</span>
        <br/> Accuracy of the times displayed below is about 1 minute.
        <br/> 
        <br/> 
        <div id="MoonEclipses" class="loadingMemFileContents"><img src="images/loading.gif"><br/>Downloading initialization data ...</div>
    </div>

    </div>
    
	</body>

</html>
<script type="text/JavaScript" src="js/notifications.js"></script>
<script type="text/JavaScript" src="js/location.js"></script>
<script type="text/JavaScript" src="js/timeinput.js"></script>

<script type="text/JavaScript" >
    
    document.getElementById("JSDisabledPage").style.display = "none";
    
    var PageTimeInterval = {};
    var Pages = {};

    var previousPage = false;
    var currentActiveLink = false;
    
    function onhashchange(){
        var hash = location.hash;
        var pageName = hash.slice(1);
        previousPage = document.getElementById(pageName); 

        if (Pages[pageName]){
            Pages[pageName].displayPage();
        }
    }
    
    window.addEventListener("hashchange", onhashchange, false);

    document.getElementById ("applySettingsChanges").addEventListener("click", function() {
        Location.Controls.commitUserValues();
        TimeStepsData.Controls.commitUserValues();
        // copy from timesteps data
        if (typeof AAJS != 'undefined')
            PageTimeInterval = { "JD" :  AAJS.Date.DateToJD (TimeStepsData.yearToStart, TimeStepsData.monthToStart, TimeStepsData.dayToStart, true), "days" : TimeStepsData.numberOfDays, "stepSize" : TimeStepsData.timestep };
            
        for (pageKey in Pages){
            if (Pages[pageKey]) {
                Pages[pageKey].reset();
            }
        }
        if (previousPage) {
            document.getElementById(previousPage.id).dispatchEvent(new MouseEvent("click",  { "view": window, 
                                                      "bubbles": true, 
                                                      "cancelable": false })); 
        }

    });
    
    document.getElementById ("cancelSettingsChanges").addEventListener("click", function() {
        Location.Controls.update();
        TimeStepsData.Controls.update();

        if (previousPage) {
            document.getElementById(previousPage.id).dispatchEvent(new MouseEvent("click",  { "view": window, 
                                                      "bubbles": true, 
                                                      "cancelable": false })); 
        }
    });

    Location.init();
    TimeStepsData.init();
    PageTimeInterval = { "JD" :  false, "days" : false, "stepSize" : false };
    
    if (!location.hash) {
        document.getElementById("HomeLink").dispatchEvent(new MouseEvent("click",  { "view": window, 
                                                          "bubbles": true, 
                                                          "cancelable": false }));
    } 
    
    var scroller = window;
    scroller = document.getElementById("scroller");
    
    scroller.addEventListener("scroll", function() {
        if (previousPage) {
            var pageObj = Pages [previousPage.id];
            if (pageObj && pageObj.hostElement && pageObj.hostElement['rows']) {
                if (scroller.scrollTop >= 110) {
                    // get the first two rows
                    pageObj.hostElement.rows[0].classList.remove ("firstHeaderRow");
                    pageObj.hostElement.rows[0].classList.add ("firstHeaderRowScrolled");

                    pageObj.hostElement.rows[1].classList.remove ("secondHeaderRow");
                    pageObj.hostElement.rows[1].classList.add ("secondHeaderRowScrolled");
                } else {
                    pageObj.hostElement.rows[0].classList.add ("firstHeaderRow");
                    pageObj.hostElement.rows[0].classList.remove ("firstHeaderRowScrolled");

                    pageObj.hostElement.rows[1].classList.add ("secondHeaderRow");
                    pageObj.hostElement.rows[1].classList.remove ("secondHeaderRowScrolled");
                }
            }
        }
    });
    
    function updateTimeAtAajsLoad() {
        if (typeof AAJS != 'undefined')
                PageTimeInterval = { "JD" :  AAJS.Date.DateToJD (TimeStepsData.yearToStart, TimeStepsData.monthToStart, TimeStepsData.dayToStart, true), "days" : TimeStepsData.numberOfDays, "stepSize" : TimeStepsData.timestep };
        else
            setTimeout (updateTimeAtAajsLoad, 300);
    }
    
    updateTimeAtAajsLoad();
    
    
    var physicalStyle = document.getElementById("physicalStyle");
    var father = physicalStyle.parentNode;
    var physicalStyleText = physicalStyle.textContent;
    father.removeChild(physicalStyle);

    var positionalStyle = document.getElementById("positionalStyle");
    var positionalStyleText = positionalStyle.textContent;
    father.removeChild(positionalStyle);
    
    var activeStyle = document.createElement("style");
    activeStyle.textContent = positionalStyleText;
    father.appendChild(activeStyle);
    
    var wasPositional = true;
    
    function toggleEphemeris(){
        father.removeChild(activeStyle);
        activeStyle = document.createElement("style");
        if (wasPositional)
            activeStyle.textContent = physicalStyleText;
        else
            activeStyle.textContent = positionalStyleText;
        
        father.appendChild(activeStyle);
        wasPositional = !wasPositional;
    }
    
    var pagesWithPhysicalEphemeris = ["JupiterPage", "MarsPage"];
    for (var pageIndex = 0; pageIndex < pagesWithPhysicalEphemeris.length; pageIndex++){
        var divs =  document.getElementById(pagesWithPhysicalEphemeris[pageIndex]).getElementsByTagName("div");
        for (var i = 0; i < divs.length; i++)
            divs[i].onclick = toggleEphemeris;
    }
        
</script>

<script type="text/JavaScript" src="js/aajs.js" async=""></script>

<script type="text/JavaScript" src="js/risetransitset.js"></script>

<script type="text/JavaScript" src="js/planetdata.js"></script>
<script type="text/JavaScript" src="js/planetpage.js"></script>

<script type="text/JavaScript" src="js/sun.js"></script>
<script type="text/JavaScript" src="js/mercury.js"></script>
<script type="text/JavaScript" src="js/venus.js"></script>
<script type="text/JavaScript" src="js/mars.js"></script>
<script type="text/JavaScript" src="js/jupiter.js"></script>
<script type="text/JavaScript" src="js/saturn.js"></script>
<script type="text/JavaScript" src="js/uranus.js"></script>
<script type="text/JavaScript" src="js/neptune.js"></script>

<script type="text/JavaScript" src="js/moon.js"></script>
<script type="text/JavaScript" src="js/moonsdata.js"></script>
<script type="text/JavaScript" src="js/moonspage.js"></script>
<script type="text/JavaScript" src="js/galileanmoonsdata.js"></script>
<script type="text/JavaScript" src="js/galileanmoonspage.js"></script>
<script type="text/JavaScript" src="js/saturnmoonsdata.js"></script>
<script type="text/JavaScript" src="js/saturnmoonspage.js"></script>

<script type="text/JavaScript" src="js/mooneclipsesdata.js"></script>
<script type="text/JavaScript" src="js/mooneclipsespage.js"></script>

<script>
    if (location.hash)
        setTimeout(onhashchange, 1);
</script>
