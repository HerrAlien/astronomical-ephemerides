<html>
    <head>
        <script type="text/javascript" src="js/aajs.js"></script>
        <script type="text/javascript" src="testlib.js"></script>
        <style>
            p {
                line-spacing: 2px;
            }
        </style>
    </head>
    <body>
    </body>
</html>
<script type="text/javascript">
     var Location  = {
        latitude : 44.6,
        longitude: 23.1,
        altitude : 200
     };    
     
    (function () {
            
        var tests = [
        
        {
            name : "Phisical ephemeris data for Jupiter, 1988-01-12 00:00 UTC, lat. 44.6, long. 23.1, alt. 200, anuarul astronomic '88",
            input : AAJS.Date.DateToJD (1988, 1, 12, true),
            expectedOutput : [2.76, 262.34, 120.93],
            actualOutput : [],
            accurracy : [4e-3,1.2,2],
            test : function () {
            var data =  AAJS['Jupiter']['PhysicalDetails'] (this.input, true);
                this.actualOutput = [data.EarthDeclination, data.CentralMeridianApparentLongitude_System1, data.CentralMeridianApparentLongitude_System2];

                if (this.expectedOutput.length != this.actualOutput.length ||
                    this.expectedOutput.length != this.accurracy.length)
                    return false;
                
                var i = 0;
                for (i = 0; i < this.expectedOutput.length; i++) {
                    if (!testlib.doubleEq(this.actualOutput[i] , this.expectedOutput[i], this.accurracy[i]))
                        return false;
                }
                
                return true;
            }
        },
        
               {
            name : "Phisical ephemeris data for Jupiter, 2017-05-17 00:00 UTC, lat. 44.6, long. 23.1, alt. 200, calc sky",
            input : AAJS.Date.DateToJD (2017, 5, 17, true),
            expectedOutput : [24.6, 103.1],
            actualOutput : [],
            accurracy : [5e-2, 1],
            test : function () {
            var data =  AAJS['Jupiter']['PhysicalDetails'] (this.input, true);
                this.actualOutput = [data.P, data.CentralMeridianApparentLongitude_System1];

                if (this.expectedOutput.length != this.actualOutput.length ||
                    this.expectedOutput.length != this.accurracy.length)
                    return false;
                
                var i = 0;
                for (i = 0; i < this.expectedOutput.length; i++) {
                    if (!testlib.doubleEq(this.actualOutput[i] , this.expectedOutput[i], this.accurracy[i]))
                        return false;
                }
                
                return true;
            }
        }


        ];
            
        testlib.runTests (tests);
            
    })();
            
        </script>

